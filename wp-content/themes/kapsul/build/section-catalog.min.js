!function(){"use strict";var t;(t=jQuery)(document).ready((function(){var e={rooms_type:"apartments",texture:null,color:null,accent:null},o=6,n=3,a=window.matchMedia("(max-width: 979px)"),i=window.matchMedia("(min-width: 980px) and (max-width: 1159px)"),s=window.matchMedia("(min-width: 1160px)"),c=t("#showMore"),l=t(".section-catalog .posts-list").isotope({itemSelector:".post-item",layoutMode:"masonry",stamp:".element-item--static"});function r(){a.matches?(o=2,n=2):i.matches?(o=4,n=2):s.matches&&(o=6,n=3),d()}function d(){var e=l.isotope("getFilteredItemElements");t(e).length>o?c.fadeIn():c.fadeOut(),t(".post-item.d-none").removeClass("d-none");var n=0;t(e).each((function(){n>=o&&t(this).addClass("d-none"),n++})),l.isotope("layout")}function m(){var o=this,n=!0;return["rooms_type","texture","color","accent"].forEach((function(a){if(e[a]){var i=t(o).data(a);i&&(i.split(", ").includes(e[a])||(n=!1))}})),n}l.isotope({filter:m}),r(),t(".catalog-menu-item").on("click",(function(){t(".catalog-menu-item").removeClass("active"),t(this).addClass("active"),t(".current-rooms-type").text(t(this).find(".title").text()),e.rooms_type=t(this).data("rooms_type"),l.isotope({filter:m}),d()})),c.on("click",(function(e){e.preventDefault(),t(this).addClass("loading"),setTimeout((function(){var e,o,a,i;e=n,a=(o=t(".post-item.d-none")).length,i=0,o.each((function(){i<e&&(t(this).removeClass("d-none"),i++)})),l.isotope("layout"),c.removeClass("loading"),i>=a&&c.fadeOut()}),300)})),a.addEventListener("change",(function(t){r()})),i.addEventListener("change",(function(t){r()})),s.addEventListener("change",(function(t){r()}));var u=t(".js-select2");u.select2({minimumResultsForSearch:-1,dropdownAutoWidth:"auto",allowClear:!0}),u.on("select2:select select2:clear",(function(o){var n=t(this).data("filter");e[n]="select"===o.params._type?o.params.data.id:null,l.isotope({filter:m}),d()}))}))}();